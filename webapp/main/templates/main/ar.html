<!DOCTYPE html>
<html>
    <head>
        <title>Lift AR</title>
        <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
        <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.5.0/aframe/build/aframe-ar.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script type="text/javascript" src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script> 
        <script src="https://raw.githubusercontent.com/jhuckaby/webcamjs/master/webcam.min.js"></script>
        <script type="text/javascript">
            
            var count = 1;
            var file1 = null;
           
            function get_weight() {
                var element = document.getElementById("ar_text");
                if(window.count == 1)
                {
                    element.setAttribute("value", "Click Again!");
                    window.count = 0;
                }
                else if(count == 0){
                    element.setAttribute("value", "Click Me!")
                    window.count = 0;
                }
            }
            
            function getImage()
            {
                $("#file1").show().focus().click().hide();
                $("#file1").show().focus().click().hide();
                $("#main_form").submit();
            }
            /*
            function takeScreenshot() {
                var w = window.open('', '');
                w.document.title = "Screenshot";
                var img = new Image();
                var secondImg = new Image();
                renderer.render(scene, camera);
                var doubleImageCanvas = document.getElementById('doubleImage');
                var context = doubleImageCanvas.getContext('2d');
                var sources = {
                    firstImage: renderer.domElement.toDataURL("image/png"),
                    secondImage: arToolkitContext.arController.canvas.toDataURL("image/png")
                };

                loadImages(sources, function(images){
                    context.drawImage(images.secondImage, 0, 0);
                    context.drawImage(images.firstImage, 0, 0);
                    img.src = doubleImageCanvas.toDataURL("image/png");
                    w.document.body.appendChild(img);
                });
            }

            function loadImages(sources, callback) {
                var images = {};
                var loadedImages = 0;
                var numImages = 0;
                // get num of sources
                for (var src in sources) {
                    numImages++;
                }
                for (var src in sources) {
                    images[src] = new Image();
                    images[src].onload = function () {
                        if (++loadedImages >= numImages) {
                            callback(images);
                        }
                    };
                    images[src].src = sources[src];
                }
            }  */
        </script> 
    </head>

    <body style='margin : 0px; overflow: hidden;' onclick="get_weight();">
        <a-scene embedded arjs>
            <a-marker preset="hiro">
                <a-text value="Click Me!." color="black" scale="1.5 1.5 1.5" id="ar_text"></a-text> 
                <!-- <a-box position='0 0.5 0' material='color: black;'></a-box> -->
            </a-marker>
            <a-entity camera></a-entity>
        </a-scene>
        <form method="POST" enctype="multipart/form-data" action="https://52.230.83.128" style="opacity: 0;" id="main_form"> {% csrf_token %}
            <input type='file' name='file1' id="file1">
            <input type='file' name='file2' id="file1">
            <input type="text" value="ar" name="filename">
            <input type="submit" value='Submit'>
        </form>
    </body>
</html>